port: 7890
socks-port: 7891
allow-lan: true
mode: Rule
log-level: info
external-controller: :9090
experimental:
  ignore-resolve-fail: true
cfw-latency-url: 'http://cp.cloudflare.com/generate_204'
cfw-latency-timeout: 3000
cfw-latency-type: 1
cfw-conn-break-strategy: true
clash-for-android:
  ui-subtitle-pattern: '[一-龥]{2,4}'
url-rewrite:
- ^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302
- ^https?:\/\/(ditu|maps).google\.cn https://maps.google.com 302
dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:53
  enhanced-mode: redir-host
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
     - '*.lan'
     - localhost.ptlogin2.qq.com
  nameserver:
     - 223.5.5.5
     - 119.29.29.29
     - https://doh.pub/dns-query
     - https://dns.alidns.com/dns-query
  fallback:
     - 8.8.8.8
     - 1.1.1.1
     - tls://1.0.0.1:853
     - tls://dns.google:853
     - https://cloudflare-dns.com/dns-query
     - https://dns.google/dns-query
  fallback-filter:
     geoip: true
     ipcidr:
       - 240.0.0.0/4

rules:
  - RULE-SET, Abema, JP-Media
  - RULE-SET, Amazon, Int-Medai
  - RULE-SET, Apple, Apple
  - RULE-SET, AppleMusic, Music
  - RULE-SET, Bahamut, HK&TW-Media 
  - RULE-SET, BaiduTieba, BBS
  - RULE-SET, Bilibili, Bilibili
  - RULE-SET, CN-Media, Domestic
  - RULE-SET, Coolapk, BBS
  - RULE-SET, Copilot, AI
  - RULE-SET, DAZN, Int-Media
  - RULE-SET, DMM, JP-Media
  - RULE-SET, Discord, BBS
  - RULE-SET, Disney, Disney
  - RULE-SET, Douyin, Douyin
  - RULE-SET, ESPN, Int-Media
  - RULE-SET, Emby, Emby
  - RULE-SET, Epic, Games
  - RULE-SET, Facebook, Meta
  - RULE-SET, Games, Games
  - RULE-SET, Gemini, AI
  - RULE-SET, Github, BBS
  - RULE-SET, Google, Google
  - RULE-SET, HBO-Asia, HK&TW-Meida
  - RULE-SET, HBO-US, Int-Media
  - RULE-SET, Hamivideo, HK&TW-Media
  - RULE-SET, Hulu-JP, JP-Media
  - RULE-SET, Hulu-US, Int-Media
  - RULE-SET, Instagram, Meta
  - RULE-SET, KKBOX, Music
  - RULE-SET, KKTV, HK&TW-Media
  - RULE-SET, LiTV, HK&TW-Media
  - RULE-SET, Line, BBS
  - RULE-SET, LineTV, HK&TW-Media
  - RULE-SET, Microsoft, Microsoft
  - RULE-SET, Netflix, Netflix
  - RULE-SET, News, News
  - RULE-SET, OpenAI, AI
  - RULE-SET, Paramount, Int-Media 
  - RULE-SET, Peacock, Int-Media
  - RULE-SET, Pixiv, JP-Media
  - RULE-SET, Primvideo, Int-Media
  - RULE-SET, Qobuz, Music
  - RULE-SET, Reddit, BBS
  - RULE-SET, Spotify, Music
  - RULE-SET, Steam, Games
  - RULE-SET, Telegram, BBS
  - RULE-SET, Tiktok, Tiktok
  - RULE-SET, Twitch, HK&TW-Media
  - RULE-SET, Twitter, BBS
  - RULE-SET, ViuTV, HK&TW-Media
  - RULE-SET, Youtube, Google
  - RULE-SET, myTVSUPER, HK&TW-Media
  - MATCH, cantoN
  - GEOIP, CN, Domestic

rule-providers:
  AI:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/AI.yaml"
    path: ./rule-providers/AI.yaml
    interval: 86400
  Apple:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Apple.yaml"
    path: ./rule-providers/Apple.yaml
    interval: 86400
  Asian-Media:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Asian-Media.yaml"
    path: ./rule-providers/Asian-Media.yaml
    interval: 86400
  Bilibili:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Bilibili.yaml"
    path: ./rule-providers/Bilibili.yaml
    interval: 86400
  Discord:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Discord.yaml"
    path: ./rule-providers/Discord.yaml
    interval: 86400
  Disney:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Disney.yaml"
    path: ./rule-providers/Disney.yaml
    interval: 86400
  Domestic:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Domestic.yaml"
    path: ./rule-providers/Domestic.yaml
    interval: 86400
  DouYin:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/DoYin.yaml"
    path: ./rule-providers/DoYin.yaml
    interval: 86400
  Emby:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Emby.yaml"
    path: ./rule-providers/Emby.yaml
    interval: 86400
  Google:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Google.yaml"
    path: ./rule-providers/Google.yaml
    interval: 86400
  Hijacking:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Hijacking.yaml"
    path: ./rule-providers/Hijacking.yaml
    interval: 86400
  International-Media:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/International-Media.yaml"
    path: ./rule-providers/International-Media.yaml
    interval: 86400
  Meta:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Meta.yaml"
    path: ./rule-providers/Meta.yaml
    interval: 86400
  Microsoft:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Microsoft.yaml"
    path: ./rule-providers/Microsoft.yaml
    interval: 86400
  Netflix:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Netflix.yaml"
    path: ./rule-providers/Netflix.yaml
    interval: 86400
  News:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/News.yaml"
    path: ./rule-providers/News.yaml
    interval: 86400
  Spotify:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Spotify.yaml"
    path: ./rule-providers/Spotify.yaml
    interval: 86400
  Steam:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Steam.yaml"
    path: ./rule-providers/Steam.yaml
    interval: 86400
  Telegram:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Telegram.yaml"
    path: ./rule-providers/Telegram.yaml
    interval: 86400
  TikTok:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/TikTok.yaml"
    path: ./rule-providers/TikTok.yaml
    interval: 86400
  Twitch:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Twitch.yaml"
    path: ./rule-providers/Twitch.yaml
    interval: 86400
  Twitter:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Twitter.yaml"
    path: ./rule-providers/Twitter.yaml
    interval: 86400
  YouTube:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Youtube.yaml"
    path: ./rule-providers/Youtube.yaml
    interval: 86400











    
    
