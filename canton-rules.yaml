port: 7890
socks-port: 7891
allow-lan: true
mode: Rule
log-level: info
external-controller: :9090
experimental:
  ignore-resolve-fail: true
cfw-latency-url: 'http://cp.cloudflare.com/generate_204'
cfw-latency-timeout: 3000
cfw-latency-type: 1
cfw-conn-break-strategy: true
clash-for-android:
  ui-subtitle-pattern: '[一-龥]{2,4}'
url-rewrite:
- ^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302
- ^https?:\/\/(ditu|maps).google\.cn https://maps.google.com 302
dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:53
  enhanced-mode: redir-host
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
     - '*.lan'
     - localhost.ptlogin2.qq.com
  nameserver:
     - 223.5.5.5
     - 119.29.29.29
     - https://doh.pub/dns-query
     - https://dns.alidns.com/dns-query
  fallback:
     - 8.8.8.8
     - 1.1.1.1
     - tls://1.0.0.1:853
     - tls://dns.google:853
     - https://cloudflare-dns.com/dns-query
     - https://dns.google/dns-query
  fallback-filter:
     geoip: true
     ipcidr:
       - 240.0.0.0/4

rules:
  - RULE-SET, Abema, JP&KR-Media
  - RULE-SET, Afreecatv, JP&KR-Media
  - RULE-SET, Amazon, US&EU-Medai
  - RULE-SET, Apple, Apple
  - RULE-SET, AppleMusic, Music
  - RULE-SET, Bahamut, HK&TW-Media 
  - RULE-SET, BaiduTieba, BBS
  - RULE-SET, Bilibili, Bilibili
  - RULE-SET, CN-Media, Domestic
  - RULE-SET, Coolapk, BBS
  - RULE-SET, Copilot, AI
  - RULE-SET, DAZN, US&EU-Medai
  - RULE-SET, DMM, JP&KR-Media
  - RULE-SET, Discord, BBS
  - RULE-SET, Disney, Disney
  - RULE-SET, Douyin, Douyin
  - RULE-SET, ESPN, US&EU-Medai
  - RULE-SET, Emby, Emby
  - RULE-SET, Epic, Games
  - RULE-SET, Facebook, Meta
  - RULE-SET, Games, Games
  - RULE-SET, Gemini, AI
  - RULE-SET, Github, BBS
  - RULE-SET, Google, Google
  - RULE-SET, HBO, US&EU-Medai
  - RULE-SET, Hamivideo, HK&TW-Media
  - RULE-SET, Hulu, US&EU-Medai
  - RULE-SET, Instagram, Meta
  - RULE-SET, KKBOX, Music
  - RULE-SET, KKTV, HK&TW-Media
  - RULE-SET, LiTV, HK&TW-Media
  - RULE-SET, Line, BBS
  - RULE-SET, LineTV, HK&TW-Media
  - RULE-SET, Microsoft, Microsoft
  - RULE-SET, Netflix, Netflix
  - RULE-SET, News, News
  - RULE-SET, OpenAI, AI
  - RULE-SET, Pandora, JP&KR-Media
  - RULE-SET, Paramount, US&EU-Medai 
  - RULE-SET, Peacock, US&EU-Medai
  - RULE-SET, Pixiv, JP&KR-Media
  - RULE-SET, Primvideo, US&EU-Medai
  - RULE-SET, Qobuz, Music
  - RULE-SET, Reddit, BBS
  - RULE-SET, Spotify, Music
  - RULE-SET, Steam, Games
  - RULE-SET, Telegram, BBS
  - RULE-SET, Tiktok, Tiktok
  - RULE-SET, Twitch, HK&TW-Media
  - RULE-SET, Twitter, BBS
  - RULE-SET, ViuTV, HK&TW-Media
  - RULE-SET, Youtube, Google
  - RULE-SET, Zhihu, BBS
  - RULE-SET, myTVSUPER, HK&TW-Media
  - MATCH, cantoN
  - GEOIP, CN, Domestic

rule-providers:
  Abema:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Abema.yaml"
    path: ./rule-providers/Abema.yaml
    interval: 86400
  Amazon:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Amazon.yaml"
    path: ./rule-providers/Amazon.yaml
    interval: 86400
  Apple:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Apple.yaml"
    path: ./rule-providers/Apple.yaml
    interval: 86400
  AppleMusic:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/AppleMusic.yaml"
    path: ./rule-providers/AppleMusic.yaml
    interval: 86400
  Bahamut:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Bahamut.yaml"
    path: ./rule-providers/Bahamut.yaml
    interval: 86400
  BaiduTieba:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/BaiduTieba.yaml"
    path: ./rule-providers/BaiduTieba.yaml
    interval: 86400
  Bilibili:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Bilibili.yaml"
    path: ./rule-providers/Bilibili.yaml
    interval: 86400
  CN-Media:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/CN-Media.yaml"
    path: ./rule-providers/CN-Media.yaml
    interval: 86400
  Coolapk:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Coolapk.yaml"
    path: ./rule-providers/Coolapk.yaml
    interval: 86400
  Copilot:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Copilot.yaml"
    path: ./rule-providers/Copilot.yaml
    interval: 86400
  DAZN:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/DAZN.yaml"
    path: ./rule-providers/DAZN.yaml
    interval: 86400
  DMM:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/DMM.yaml"
    path: ./rule-providers/DMM.yaml
    interval: 86400
  Discord:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Discord.yaml"
    path: ./rule-providers/Discord.yaml
    interval: 86400
  Disney:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Disney.yaml"
    path: ./rule-providers/Disney.yaml
    interval: 86400
  Douyin:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Douyin.yaml"
    path: ./rule-providers/Douyin.yaml
    interval: 86400
  ESPN:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/ESPN.yaml"
    path: ./rule-providers/ESPN.yaml
    interval: 86400
  Emby:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Emby.yaml"
    path: ./rule-providers/Emby.yaml
    interval: 86400
  Epic:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Epic.yaml"
    path: ./rule-providers/Epic.yaml
    interval: 86400
  Facebook:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Facebook.yaml"
    path: ./rule-providers/Facebook.yaml
    interval: 86400
  Games:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Games.yaml"
    path: ./rule-providers/Games.yaml
    interval: 86400
  Gemini:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Gemini.yaml"
    path: ./rule-providers/Gemini.yaml
    interval: 86400
  Github:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Github.yaml"
    path: ./rule-providers/Github.yaml
    interval: 86400    
  Google:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Google.yaml"
    path: ./rule-providers/Google.yaml
    interval: 86400        
  HBO:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/HBO.yaml"
    path: ./rule-providers/HBO.yaml
    interval: 86400  
  Hamivideo:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Hamivideo.yaml"
    path: ./rule-providers/Hamivideo.yaml
    interval: 86400   
  Hulu:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Hulu.yaml"
    path: ./rule-providers/Hulu.yaml
    interval: 86400   
  Instagram:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Instagram.yaml"
    path: ./rule-providers/Instagram.yaml
    interval: 86400   
  KKBOX:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/KKBOX.yaml"
    path: ./rule-providers/KKBOX.yaml
    interval: 86400 
  KKTV:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/KKTV.yaml"
    path: ./rule-providers/KKTV.yaml
    interval: 86400 
  LiTV:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/LiTV.yaml"
    path: ./rule-providers/LiTV.yaml
    interval: 86400 
  Line:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Line.yaml"
    path: ./rule-providers/Line.yaml
    interval: 86400 
  LineTV:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/LineTV.yaml"
    path: ./rule-providers/LineTV.yaml
    interval: 86400 
  Microsoft:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Microsoft.yaml"
    path: ./rule-providers/Microsoft.yaml
    interval: 86400 
  Netflix:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Netflix.yaml"
    path: ./rule-providers/Netflix.yaml
    interval: 86400 
  News:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/News.yaml"
    path: ./rule-providers/News.yaml
    interval: 86400
  OpenAI:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/OpenAI.yaml"
    path: ./rule-providers/OpenAI.yaml
    interval: 86400
  Pandora:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Pandora.yaml"
    path: ./rule-providers/Pandora.yaml
    interval: 86400
  Paramount:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Paramount.yaml"
    path: ./rule-providers/Paramount.yaml
    interval: 86400
  Peacock:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Peacock.yaml"
    path: ./rule-providers/Peacock.yaml
    interval: 86400
  Pixiv:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Pixiv.yaml"
    path: ./rule-providers/Pixiv.yaml
    interval: 86400
  Primvideo:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Primvideo.yaml"
    path: ./rule-providers/Primvideo.yaml
    interval: 86400
  Qoboz:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Qoboz.yaml"
    path: ./rule-providers/Qoboz.yaml
    interval: 86400
  Reddit:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Reddit.yaml"
    path: ./rule-providers/Reddit.yaml
    interval: 86400
  Spotify:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Spotify.yaml"
    path: ./rule-providers/Spotify.yaml
    interval: 86400
  Steam:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Steam.yaml"
    path: ./rule-providers/Steam.yaml
    interval: 86400
  Telegram:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Telegram.yaml"
    path: ./rule-providers/Telegram.yaml
    interval: 86400
  Tiktok:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Tiktok.yaml"
    path: ./rule-providers/Tiktok.yaml
    interval: 86400
  Twitch:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Twitch.yaml"
    path: ./rule-providers/Twitch.yaml
    interval: 86400
  Twitter:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Twitter.yaml"
    path: ./rule-providers/Twitter.yaml
    interval: 86400
  ViuTV:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/ViuTV.yaml"
    path: ./rule-providers/ViuTV.yaml
    interval: 86400
  Whatsapp:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Whatsapp.yaml"
    path: ./rule-providers/Whatsapp.yaml
    interval: 86400
  Youtube:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Youtube.yaml"
    path: ./rule-providers/Youtube.yaml
    interval: 86400
  Zhihu:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/Zhihu.yaml"
    path: ./rule-providers/Zhihu.yaml
    interval: 86400
  myTVSUPER:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/alanzsw/rule-providers/main/myTVSUPER.yaml"
    path: ./rule-providers/myTVSUPER.yaml
    interval: 86400
